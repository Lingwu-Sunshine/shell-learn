# 一、内存检测脚本开发
（if实践）
1. 开发内容：
	- 单分支`if`
	- `if`分支的嵌套
	- 开发一个内存监控的脚本
	- 开发`nginx`，`MySQL`服务监控脚本
	- 开发`rsync`起停脚本
2. 开发系统监控脚本
	开发`shell`脚本
	- 检测`linux`剩余可用内存，当可用内存小于100`M`，就发邮件给运维
	- 并且该脚本加入`crontab`（计时），每三分钟检查一次内存
	
	思路
	- 获取当前内存情况
	- 配置邮件警告，用`linux`发送邮件（`mail`服务配置），邮件内容是内存剩余情况
	- 开发脚本，判断剩余内存是否小于100`M`，使用`if`判断
	- 脚本中加入`crontab`，来写规则
3. 获取系统可用内存命令：
	```
		free -m
		free -m | awk 'NR==2 {print $NF}'
	```
4. `tee`命令
	```
		在执行Linux命令时，我们可以把输出重
		定向到文件中，比如Is >a.txt，这时我们就
		不能看到输出了。如果我们既想把输出保存到
		文件中，又想在屏幕上看到输出内容，就可以
		使用tee命令了。
		tee命令读取标准输入，把这些内容同时
		输出到标准输出和（多个）文件中，tee命令可
		以重定向标准输出到多个文件。要注意的是：
		在使用管道线时，前一个命令的标准错误输出
		不会被tee读取。
		tee指令会从标准输入设备读取数据，将
		其内容输出到标准输出设备，同时保存成文
		件。
	```
